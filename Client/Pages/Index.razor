@page "/"
@inject HttpClient Http
@inject Blazor.Analytics.IAnalytics Analytics

<NavMenu />

<section class="home" id="home-section">
    <div class="left-image-fill"></div>
    <div class="right-opal-box">
      <header>
          <img src="/img/DevNxt-logo-orange.png" alt="DevNxt conference logo" class="header-logo">
      </header>
      <div>
          <p class="byline">
              NZ&rsquo;s premier IT career and personal growth conference
          </p>
          <div class="cta">
              <a href="/about" class="button">Find out more</a> 
              <a href="#" class="button primary">Purchase tickets</a>
          </div>
      </div>
    </div>
</section>
<section class="platinum">
    <header id="speakers" class="with-motif orange">
        <h1>Speakers</h1>
    </header>
    <div>
        <h2>Our 2022 Speakers</h2>
        <div class="speaker-grid">
            @if (speakers == null)
            {
                <p><em>Loading...</em></p>
            }
            else
            {
                foreach(Presenter speaker in speakers){
                    <Speaker Presenting=@speaker />
                }
            }
        </div>
    </div>
</section>
<section class="opal">
    <header id="sponsors" class="with-motif tan">
        <h1>Sponsors</h1>
    </header>
    <div>
        <h2>Our Awesome Sponsors</h2>
        <div class="speaker-grid">

        </div>
    </div>
</section>


@code {
    private Presenter[] speakers;

    protected override async Task OnInitializedAsync()
    {
        await Analytics.TrackNavigation("~/");
        speakers = await Http.GetFromJsonAsync<Presenter[]>("sample-data/speaker-data.json");
    }

}